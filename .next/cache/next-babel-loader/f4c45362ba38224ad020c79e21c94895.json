{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/mortenovrebo/Prosjekt/suppeland/pages/FunnyText/funnyText.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useRef, useEffect, useState } from \"react\";\nimport style from \"./funnyText.module.css\";\nimport classNames from \"classnames\";\n\nvar toText = function toText(symbol) {\n  return {\n    symbol: symbol,\n    fontsize: \"5vh\"\n  };\n};\n\nvar FunnyText = function FunnyText(_ref) {\n  var text = _ref.text;\n  var textArray = text.split(\"\").map(toText);\n\n  var _useState = useState(textArray),\n      symbols = _useState[0],\n      setSymbols = _useState[1];\n\n  var _useState2 = useState(0),\n      currentIndex = _useState2[0],\n      setCurrentIndex = _useState2[1];\n\n  useInterval(function () {\n    if (currentIndex <= textArray.length) {\n      setCurrentIndex(currentIndex + 1);\n    } else {\n      setCurrentIndex(0);\n    }\n  }, 200, textArray.length + 1);\n\n  var defaultText = function defaultText() {\n    var newSymbols = symbols.map(function (s, i) {\n      return _objectSpread({}, s, {\n        fontsize: \"5vh\"\n      });\n    });\n    setSymbols(newSymbols);\n  };\n\n  var enlargeFont = function enlargeFont(symbol, index) {\n    console.log(index);\n    var newSymbols = symbols.map(function (s, i) {\n      if (i === index) {\n        return _objectSpread({}, s, {\n          fontsize: \"10vh\"\n        });\n      }\n\n      if (i === index - 1 || i === index + 1) {\n        return _objectSpread({}, s, {\n          fontsize: \"7vh\"\n        });\n      }\n\n      return _objectSpread({}, s, {\n        fontsize: \"5vh\"\n      });\n    });\n    setSymbols(newSymbols);\n  };\n\n  return __jsx(\"div\", {\n    className: style.basic,\n    onMouseOut: defaultText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, symbols.map(function (symbol, index) {\n    var _classNames;\n\n    var currentStyle = classNames((_classNames = {}, _defineProperty(_classNames, style.show, index < currentIndex), _defineProperty(_classNames, style.hide, index >= currentIndex), _classNames));\n    var divStyle = {\n      fontSize: symbol.fontsize\n    };\n    return __jsx(\"div\", {\n      onMouseOver: function onMouseOver() {\n        return enlargeFont(symbol, index);\n      },\n      key: index,\n      style: divStyle,\n      className: classNames(currentStyle),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, index < currentIndex ? symbol.symbol : \"\");\n  }));\n};\n\nfunction useInterval(callback, delay) {\n  var numberOfTicks = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;\n  var savedCallback = useRef();\n\n  var _useState3 = useState(0),\n      ticks = _useState3[0],\n      setTicks = _useState3[1];\n\n  useEffect(function () {\n    savedCallback.current = callback;\n  }, [callback]); // Set up the interval.\n\n  useEffect(function () {\n    function tick() {\n      setTicks(ticks + 1);\n      savedCallback.current();\n    }\n\n    if (delay !== null) {\n      var id = setInterval(tick, delay);\n\n      if (ticks === numberOfTicks) {\n        clearInterval(id);\n      }\n\n      return function () {\n        return clearInterval(id);\n      };\n    }\n  }, [delay, ticks]);\n}\n\nexport default FunnyText;","map":{"version":3,"sources":["/Users/mortenovrebo/Prosjekt/suppeland/pages/FunnyText/funnyText.tsx"],"names":["React","useRef","useEffect","useState","style","classNames","toText","symbol","fontsize","FunnyText","text","textArray","split","map","symbols","setSymbols","currentIndex","setCurrentIndex","useInterval","length","defaultText","newSymbols","s","i","enlargeFont","index","console","log","basic","currentStyle","show","hide","divStyle","fontSize","callback","delay","numberOfTicks","savedCallback","ticks","setTicks","current","tick","id","setInterval","clearInterval"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport style from \"./funnyText.module.css\";\nimport classNames from \"classnames\";\n\ninterface IProps {\n  text: string;\n}\n\ntype FontSize = \"5vh\" | \"7vh\" | \"10vh\";\n\ninterface IText {\n  symbol: string;\n  fontsize: FontSize;\n}\n\nconst toText = (symbol: string): IText => {\n  return {\n    symbol,\n    fontsize: \"5vh\"\n  };\n};\n\nconst FunnyText = ({ text }: IProps) => {\n  const textArray = text.split(\"\").map(toText);\n\n  const [symbols, setSymbols] = useState(textArray);\n  const [currentIndex, setCurrentIndex] = useState<number>(0);\n\n  useInterval(\n    function() {\n      if (currentIndex <= textArray.length) {\n        setCurrentIndex(currentIndex + 1);\n      } else {\n        setCurrentIndex(0);\n      }\n    },\n    200,\n    textArray.length + 1\n  );\n\n  const defaultText = () => {\n    const newSymbols = symbols.map<IText>((s, i) => {\n      return {\n        ...s,\n        fontsize: \"5vh\"\n      };\n    });\n    setSymbols(newSymbols);\n  };\n\n  const enlargeFont = (symbol: IText, index: number) => {\n    console.log(index);\n\n    const newSymbols = symbols.map<IText>((s, i) => {\n      if (i === index) {\n        return {\n          ...s,\n          fontsize: \"10vh\"\n        };\n      }\n      if (i === index - 1 || i === index + 1) {\n        return {\n          ...s,\n          fontsize: \"7vh\"\n        };\n      }\n      return {\n        ...s,\n        fontsize: \"5vh\"\n      };\n    });\n\n    setSymbols(newSymbols);\n  };\n  return (\n    <div className={style.basic} onMouseOut={defaultText}>\n      {symbols.map((symbol, index) => {\n        const currentStyle = classNames({\n          [style.show]: index < currentIndex,\n          [style.hide]: index >= currentIndex\n        });\n        const divStyle = {\n          fontSize: symbol.fontsize\n        };\n        return (\n          <div\n            onMouseOver={() => enlargeFont(symbol, index)}\n            key={index}\n            style={divStyle}\n            className={classNames(currentStyle)}\n          >\n            {index < currentIndex ? symbol.symbol : \"\"}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nfunction useInterval(callback: () => void, delay: number, numberOfTicks = 100) {\n  const savedCallback = useRef<any>();\n  const [ticks, setTicks] = useState(0);\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      setTicks(ticks + 1);\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      if (ticks === numberOfTicks) {\n        clearInterval(id);\n      }\n      return () => clearInterval(id);\n    }\n  }, [delay, ticks]);\n}\n\nexport default FunnyText;\n"]},"metadata":{},"sourceType":"module"}