{"ast":null,"code":"var _jsxFileName = \"/Users/mortenovrebo/Prosjekt/suppeland/pages/LivePhoto/livePhoto.tsx\";\nvar __jsx = React.createElement;\nimport React, { useRef, useEffect, useState } from \"react\";\nimport * as LivePhotosKit from \"livephotoskit\";\nimport style from \"./livePhoto.module.css\";\n\nconst LivePhoto = ({\n  imagePath,\n  videoPath,\n  playbackStyle = LivePhotosKit.PlaybackStyle.LOOP\n}) => {\n  const textInput = useRef(null);\n  const {\n    0: player,\n    1: setPlayer\n  } = useState();\n  useEffect(() => {\n    if (textInput && textInput.current && false) {\n      const htmlPlayer = LivePhotosKit.Player(textInput.current);\n      setPlayer(htmlPlayer);\n\n      if (player) {\n        player.showsNativeControls = false;\n        player.playbackStyle = playbackStyle;\n      }\n    }\n  }, []);\n\n  const playLoop = () => {\n    if (player) {\n      player.play();\n    }\n  };\n\n  const playStop = () => {\n    if (player) {\n      player.pause();\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: style.photo,\n    onMouseEnter: playLoop,\n    onTouchStart: playLoop,\n    onTouchEnd: playStop,\n    onMouseLeave: playStop,\n    ref: textInput,\n    \"data-live-photo\": true,\n    \"data-photo-src\": imagePath,\n    \"data-video-src\": videoPath,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  });\n};\n\nexport default LivePhoto;","map":{"version":3,"sources":["/Users/mortenovrebo/Prosjekt/suppeland/pages/LivePhoto/livePhoto.tsx"],"names":["React","useRef","useEffect","useState","LivePhotosKit","style","LivePhoto","imagePath","videoPath","playbackStyle","PlaybackStyle","LOOP","textInput","player","setPlayer","current","htmlPlayer","Player","showsNativeControls","playLoop","play","playStop","pause","photo"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,OAAO,KAAKC,aAAZ,MAA+B,eAA/B;AACA,OAAOC,KAAP,MAAkB,wBAAlB;;AASA,MAAMC,SAAS,GAAG,CAAC;AACjBC,EAAAA,SADiB;AAEjBC,EAAAA,SAFiB;AAGjBC,EAAAA,aAAa,GAAGL,aAAa,CAACM,aAAd,CAA4BC;AAH3B,CAAD,KAIJ;AACZ,QAAMC,SAAS,GAAGX,MAAM,CAAmB,IAAnB,CAAxB;AACA,QAAM;AAAA,OAACY,MAAD;AAAA,OAASC;AAAT,MAAsBX,QAAQ,EAApC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIU,SAAS,IAAIA,SAAS,CAACG,OAAvB,SAAJ,EAAqE;AACnE,YAAMC,UAAU,GAAGZ,aAAa,CAACa,MAAd,CAAqBL,SAAS,CAACG,OAA/B,CAAnB;AACAD,MAAAA,SAAS,CAACE,UAAD,CAAT;;AACA,UAAIH,MAAJ,EAAY;AACVA,QAAAA,MAAM,CAACK,mBAAP,GAA6B,KAA7B;AACAL,QAAAA,MAAM,CAACJ,aAAP,GAAuBA,aAAvB;AACD;AACF;AACF,GATQ,EASN,EATM,CAAT;;AAWA,QAAMU,QAAQ,GAAG,MAAM;AACrB,QAAIN,MAAJ,EAAY;AACVA,MAAAA,MAAM,CAACO,IAAP;AACD;AACF,GAJD;;AAMA,QAAMC,QAAQ,GAAG,MAAM;AACrB,QAAIR,MAAJ,EAAY;AACVA,MAAAA,MAAM,CAACS,KAAP;AACD;AACF,GAJD;;AAMA,SACE;AACE,IAAA,SAAS,EAAEjB,KAAK,CAACkB,KADnB;AAEE,IAAA,YAAY,EAAEJ,QAFhB;AAGE,IAAA,YAAY,EAAEA,QAHhB;AAIE,IAAA,UAAU,EAAEE,QAJd;AAKE,IAAA,YAAY,EAAEA,QALhB;AAME,IAAA,GAAG,EAAET,SANP;AAOE,2BAPF;AAQE,sBAAgBL,SARlB;AASE,sBAAgBC,SATlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAaD,CA5CD;;AA8CA,eAAeF,SAAf","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport * as LivePhotosKit from \"livephotoskit\";\nimport style from \"./livePhoto.module.css\";\nimport { PlaybackStyleLiteral } from \"livephotoskit\";\n\ninterface IProps {\n  imagePath: string;\n  videoPath: string;\n  playbackStyle?: PlaybackStyleLiteral;\n}\n\nconst LivePhoto = ({\n  imagePath,\n  videoPath,\n  playbackStyle = LivePhotosKit.PlaybackStyle.LOOP\n}: IProps) => {\n  const textInput = useRef<HTMLInputElement>(null);\n  const [player, setPlayer] = useState<LivePhotosKit.Player>();\n\n  useEffect(() => {\n    if (textInput && textInput.current && typeof window !== \"undefined\") {\n      const htmlPlayer = LivePhotosKit.Player(textInput.current);\n      setPlayer(htmlPlayer);\n      if (player) {\n        player.showsNativeControls = false;\n        player.playbackStyle = playbackStyle;\n      }\n    }\n  }, []);\n\n  const playLoop = () => {\n    if (player) {\n      player.play();\n    }\n  };\n\n  const playStop = () => {\n    if (player) {\n      player.pause();\n    }\n  };\n\n  return (\n    <div\n      className={style.photo}\n      onMouseEnter={playLoop}\n      onTouchStart={playLoop}\n      onTouchEnd={playStop}\n      onMouseLeave={playStop}\n      ref={textInput}\n      data-live-photo\n      data-photo-src={imagePath}\n      data-video-src={videoPath}\n    />\n  );\n};\n\nexport default LivePhoto;\n"]},"metadata":{},"sourceType":"module"}