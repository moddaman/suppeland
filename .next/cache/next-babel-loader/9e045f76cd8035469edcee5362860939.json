{"ast":null,"code":"var _jsxFileName = \"/Users/mortenovrebo/Prosjekt/suppeland/pages/LivePhoto/livePhoto.tsx\";\nvar __jsx = React.createElement;\nimport React, { useRef, useEffect, useState } from \"react\";\nimport * as LivePhotosKit from \"livephotoskit\";\nimport style from \"./livePhoto.module.css\";\n\nvar LivePhoto = function LivePhoto(_ref) {\n  var imagePath = _ref.imagePath,\n      videoPath = _ref.videoPath,\n      _ref$playbackStyle = _ref.playbackStyle,\n      playbackStyle = _ref$playbackStyle === void 0 ? LivePhotosKit.PlaybackStyle.LOOP : _ref$playbackStyle;\n  var textInput = useRef(null);\n\n  var _useState = useState(),\n      player = _useState[0],\n      setPlayer = _useState[1];\n\n  useEffect(function () {\n    if (textInput && textInput.current && true) {\n      var htmlPlayer = LivePhotosKit.Player(textInput.current);\n      setPlayer(htmlPlayer);\n\n      if (player) {\n        player.showsNativeControls = false;\n        player.playbackStyle = playbackStyle;\n      }\n    }\n  }, []);\n\n  var playLoop = function playLoop() {\n    if (player) {\n      player.play();\n    }\n  };\n\n  var playStop = function playStop() {\n    if (player) {\n      player.pause();\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: style.photo,\n    onMouseEnter: playLoop,\n    onTouchStart: playLoop,\n    onTouchEnd: playStop,\n    onMouseLeave: playStop,\n    ref: textInput,\n    \"data-live-photo\": true,\n    \"data-photo-src\": imagePath,\n    \"data-video-src\": videoPath,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  });\n};\n\nexport default LivePhoto;","map":{"version":3,"sources":["/Users/mortenovrebo/Prosjekt/suppeland/pages/LivePhoto/livePhoto.tsx"],"names":["React","useRef","useEffect","useState","LivePhotosKit","style","LivePhoto","imagePath","videoPath","playbackStyle","PlaybackStyle","LOOP","textInput","player","setPlayer","current","htmlPlayer","Player","showsNativeControls","playLoop","play","playStop","pause","photo"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,OAAO,KAAKC,aAAZ,MAA+B,eAA/B;AACA,OAAOC,KAAP,MAAkB,wBAAlB;;AASA,IAAMC,SAAS,GAAG,SAAZA,SAAY,OAIJ;AAAA,MAHZC,SAGY,QAHZA,SAGY;AAAA,MAFZC,SAEY,QAFZA,SAEY;AAAA,gCADZC,aACY;AAAA,MADZA,aACY,mCADIL,aAAa,CAACM,aAAd,CAA4BC,IAChC;AACZ,MAAMC,SAAS,GAAGX,MAAM,CAAmB,IAAnB,CAAxB;;AADY,kBAEgBE,QAAQ,EAFxB;AAAA,MAELU,MAFK;AAAA,MAEGC,SAFH;;AAIZZ,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIU,SAAS,IAAIA,SAAS,CAACG,OAAvB,QAAJ,EAAqE;AACnE,UAAMC,UAAU,GAAGZ,aAAa,CAACa,MAAd,CAAqBL,SAAS,CAACG,OAA/B,CAAnB;AACAD,MAAAA,SAAS,CAACE,UAAD,CAAT;;AACA,UAAIH,MAAJ,EAAY;AACVA,QAAAA,MAAM,CAACK,mBAAP,GAA6B,KAA7B;AACAL,QAAAA,MAAM,CAACJ,aAAP,GAAuBA,aAAvB;AACD;AACF;AACF,GATQ,EASN,EATM,CAAT;;AAWA,MAAMU,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB,QAAIN,MAAJ,EAAY;AACVA,MAAAA,MAAM,CAACO,IAAP;AACD;AACF,GAJD;;AAMA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB,QAAIR,MAAJ,EAAY;AACVA,MAAAA,MAAM,CAACS,KAAP;AACD;AACF,GAJD;;AAMA,SACE;AACE,IAAA,SAAS,EAAEjB,KAAK,CAACkB,KADnB;AAEE,IAAA,YAAY,EAAEJ,QAFhB;AAGE,IAAA,YAAY,EAAEA,QAHhB;AAIE,IAAA,UAAU,EAAEE,QAJd;AAKE,IAAA,YAAY,EAAEA,QALhB;AAME,IAAA,GAAG,EAAET,SANP;AAOE,2BAPF;AAQE,sBAAgBL,SARlB;AASE,sBAAgBC,SATlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAaD,CA5CD;;AA8CA,eAAeF,SAAf","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport * as LivePhotosKit from \"livephotoskit\";\nimport style from \"./livePhoto.module.css\";\nimport { PlaybackStyleLiteral } from \"livephotoskit\";\n\ninterface IProps {\n  imagePath: string;\n  videoPath: string;\n  playbackStyle?: PlaybackStyleLiteral;\n}\n\nconst LivePhoto = ({\n  imagePath,\n  videoPath,\n  playbackStyle = LivePhotosKit.PlaybackStyle.LOOP\n}: IProps) => {\n  const textInput = useRef<HTMLInputElement>(null);\n  const [player, setPlayer] = useState<LivePhotosKit.Player>();\n\n  useEffect(() => {\n    if (textInput && textInput.current && typeof window !== \"undefined\") {\n      const htmlPlayer = LivePhotosKit.Player(textInput.current);\n      setPlayer(htmlPlayer);\n      if (player) {\n        player.showsNativeControls = false;\n        player.playbackStyle = playbackStyle;\n      }\n    }\n  }, []);\n\n  const playLoop = () => {\n    if (player) {\n      player.play();\n    }\n  };\n\n  const playStop = () => {\n    if (player) {\n      player.pause();\n    }\n  };\n\n  return (\n    <div\n      className={style.photo}\n      onMouseEnter={playLoop}\n      onTouchStart={playLoop}\n      onTouchEnd={playStop}\n      onMouseLeave={playStop}\n      ref={textInput}\n      data-live-photo\n      data-photo-src={imagePath}\n      data-video-src={videoPath}\n    />\n  );\n};\n\nexport default LivePhoto;\n"]},"metadata":{},"sourceType":"module"}